{"version":3,"sources":["index.js"],"names":[],"mappings":";;;;;;;;;;AAAA,IAAM,QAAQ,QAAQ,OAAR,CAAR;AACN,IAAM,WAAW,QAAQ,UAAR,CAAX;AACN,IAAM,QAAQ,QAAQ,QAAR,CAAR;AACN,IAAM,WAAW,QAAQ,UAAR,CAAX;;;AAGN,IAAM,gBAAgB,CACpB,SADoB;AAEpB,SAFoB;AAGpB,SAHoB;AAIpB,SAJoB;AAKpB,SALoB;AAMpB,SANoB;AAOpB,SAPoB,CAAhB;;;AAUN,SAAS,QAAT,CAAkB,GAAlB,EAAuB;AACrB,MAAI,MAAM,CAAN,CADiB;AAErB,OAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,IAAI,MAAJ,EAAY,GAA/B,EAAoC;AAClC,WAAO,IAAI,UAAJ,CAAe,CAAf,CAAP,CADkC;GAApC;;AAIA,SAAO,GAAP,CANqB;CAAvB;;IASM;;;;;;;;;;;6BACK;mBAYH,KAAK,KAAL,CAZG;uCAEL,aAFK;UAEL,mDAAa,6BAFR;UAGL,iBAHK;UAIL,uBAJK;UAKL,mBALK;UAML,qBANK;iCAOL,OAPK;UAOL,uCAAO,8BAPF;UAQL,mBARK;UASL,qBATK;UAUL,yBAVK;UAWL,6BAXK;;;AAcP,UAAI,CAAC,IAAD,EAAO,MAAM,IAAI,KAAJ,CAAU,4BAAV,CAAN,CAAX;;AAEA,UAAM,OAAO,SAAS,IAAT,CAAP,CAhBC;AAiBP,aAAO,MAAM,IAAN,CAAP,CAjBO;;AAmBP,UAAM,aAAa;AACjB,iBAAS,OAAT;AACA,kCAFiB;OAAb,CAnBC;;AAwBP,UAAM,aAAa;AACjB,iBAAS,YAAT;AACA,mBAAW,QAAX;AACA,uBAAe,QAAf;AACA,kCAJiB;OAAb,CAxBC;;AA+BP,UAAI,IAAJ,EAAU;AACR,mBAAW,KAAX,GAAmB,WAAW,KAAX,GAAmB,WAAW,QAAX,GAAsB,IAAtB,CAD9B;AAER,mBAAW,MAAX,GAAoB,WAAW,MAAX,GAAoB,WAAW,SAAX,GAAuB,IAAvB,CAFhC;OAAV;;AAKA,UAAI,cAAJ;UAAW,UAAU,CAAC,SAAD,EAAY,YAAZ,CAAV,CApCJ;AAqCP,UAAI,OAAO,MAAP,EAAe;AACjB,gBAAQ,6BAAK,WAAU,iBAAV,EAA4B,OAAO,UAAP,EAAmB,KAAK,GAAL,EAAU,QAAQ,MAAR,EAAgB,KAAK,IAAL,EAA9E,CAAR,CADiB;OAAnB,MAEO;AACL,YAAI,mBAAJ,CADK;AAEL,YAAI,KAAJ,EAAW;AACT,uBAAa,KAAb,CADS;SAAX,MAEO;;AAEL,cAAI,IAAI,SAAS,IAAT,IAAiB,OAAO,MAAP,CAFpB;AAGL,uBAAa,OAAO,CAAP,CAAb,CAHK;SAFP;;AAQA,mBAAW,eAAX,GAA6B,UAA7B,CAVK;;AAYL,gBAAQ,IAAR,CAZK;OAFP;;AAiBA,UAAI,WAAW,eAAX,EAA4B;AAC9B,gBAAQ,IAAR,kBAA4B,SAAS,WAAW,eAAX,CAArC,EAD8B;OAAhC;;AAIA,aACE;;UAAK,cAAY,IAAZ,EAAkB,WAAW,QAAQ,IAAR,CAAa,GAAb,CAAX,EAA8B,OAAO,KAAP,EAArD;QACE;;YAAK,WAAU,mBAAV,EAA8B,OAAO,UAAP,EAAnC;UACG,KADH;SADF;OADF,CA1DO;;;;SADL;EAAmB,MAAM,SAAN;;AAqEzB,OAAO,OAAP,GAAiB,UAAjB","file":"user-avatar.js","sourcesContent":["const React = require('react');\nconst initials = require('initials');\nconst addPx = require('add-px');\nconst contrast = require('contrast');\n\n// from https://flatuicolors.com/\nconst defaultColors = [\n  '#2ecc71', // emerald\n  '#3498db', // peter river\n  '#8e44ad', // wisteria\n  '#e67e22', // carrot\n  '#e74c3c', // alizarin\n  '#1abc9c', // turquoise\n  '#2c3e50', // midnight blue\n];\n\nfunction sumChars(str) {\n  let sum = 0;\n  for(let i = 0; i < str.length; i++) {\n    sum += str.charCodeAt(i);\n  }\n\n  return sum;\n}\n\nclass UserAvatar extends React.Component {\n  render() {\n    let {\n      borderRadius='100%',\n      src,\n      srcset,\n      name,\n      color,\n      colors=defaultColors,\n      size,\n      style,\n      onClick,\n      className\n    } = this.props;\n\n    if (!name) throw new Error('UserAvatar requires a name');\n\n    const abbr = initials(name);\n    size = addPx(size);\n\n    const imageStyle = {\n      display: 'block',\n      borderRadius\n    };\n\n    const innerStyle = {\n      display: 'table-cell',\n      textAlign: 'center',\n      verticalAlign: 'middle',\n      borderRadius\n    };\n\n    if (size) {\n      imageStyle.width = innerStyle.width = innerStyle.maxWidth = size;\n      imageStyle.height = innerStyle.height = innerStyle.maxHeight = size;\n    }\n\n    let inner, classes = [className, 'UserAvatar'];\n    if (src || srcset) {\n      inner = <img className=\"UserAvatar--img\" style={imageStyle} src={src} srcset={srcset} alt={name} />\n    } else {\n      let background;\n      if (color) {\n        background = color;\n      } else {\n        // pick a deterministic color from the list\n        let i = sumChars(name) % colors.length;\n        background = colors[i];\n      }\n\n      innerStyle.backgroundColor = background;\n\n      inner = abbr;\n    }\n\n    if (innerStyle.backgroundColor) {\n      classes.push(`UserAvatar--${contrast(innerStyle.backgroundColor)}`);\n    }\n\n    return (\n      <div aria-label={name} className={classes.join(' ')} style={style}>\n        <div className=\"UserAvatar--inner\" style={innerStyle}>\n          {inner}\n        </div>\n      </div>\n    )\n  }\n}\n\nmodule.exports = UserAvatar;\n"]}